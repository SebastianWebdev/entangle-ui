---
title: CartesianPicker
description: 2D point picker for selecting coordinates on a cartesian grid with crosshair, snap-to-grid, and custom rendering.
---

import PropsTable from '../../../../components/PropsTable.astro';

Interactive 2D point picker for selecting X/Y coordinates on a cartesian grid. Features a draggable marker, crosshair display, origin axes, grid lines with labels, snap-to-grid, and custom background rendering. Commonly used for panning controls, UV coordinate selection, and spatial parameter adjustment.

## Import

```tsx
import { CartesianPicker } from 'entangle-ui';
```

## Usage

```tsx
const [point, setPoint] = useState({ x: 0, y: 0 });

<CartesianPicker
  value={point}
  onChange={setPoint}
/>
```

## Controlled vs Uncontrolled

```tsx
// Controlled
<CartesianPicker value={point} onChange={setPoint} />

// Uncontrolled with default
<CartesianPicker defaultValue={{ x: 0.5, y: -0.5 }} />
```

## Domain Range

Set custom domain ranges for each axis. The default is -1 to 1 for both axes.

```tsx
// Normalized 0-1 range
<CartesianPicker
  domainX={[0, 1]}
  domainY={[0, 1]}
  value={uv}
  onChange={setUv}
  labelX="U"
  labelY="V"
/>

// Wider range
<CartesianPicker
  domainX={[-180, 180]}
  domainY={[-90, 90]}
  value={coords}
  onChange={setCoords}
  labelX="Pan"
  labelY="Tilt"
/>
```

## Grid and Labels

```tsx
<CartesianPicker
  showGrid
  gridSubdivisions={8}
  showAxisLabels
  showOriginAxes
  labelX="X"
  labelY="Y"
  value={point}
  onChange={setPoint}
/>
```

## Crosshair

The crosshair shows lines from the marker to the edges. It can be solid or dashed, and can be disabled.

```tsx
<CartesianPicker
  showCrosshair
  crosshairStyle="solid"
  value={point}
  onChange={setPoint}
/>
```

## Snap to Grid

Enable grid snapping during drag. Hold Ctrl to toggle snapping behavior. You can also provide a discrete `step` for per-axis snapping.

```tsx
// Snap to grid subdivisions
<CartesianPicker
  snapToGrid
  gridSubdivisions={4}
  value={point}
  onChange={setPoint}
/>

// Discrete step snapping
<CartesianPicker
  step={0.25}
  value={point}
  onChange={setPoint}
/>

// Per-axis step
<CartesianPicker
  step={[0.1, 0.5]}
  value={point}
  onChange={setPoint}
/>
```

## Clamping

By default, the point is clamped within domain bounds. Disable this to allow values outside the visible range.

```tsx
<CartesianPicker
  clampToRange={false}
  value={point}
  onChange={setPoint}
/>
```

## Responsive Mode

When `responsive` is true, the picker fills its parent container using a ResizeObserver.

```tsx
<div style={{ width: '100%' }}>
  <CartesianPicker
    responsive
    height={200}
    value={point}
    onChange={setPoint}
  />
</div>
```

## Custom Background

Use `renderBackground` to draw behind the grid, such as a heatmap or gradient.

```tsx
<CartesianPicker
  value={point}
  onChange={setPoint}
  renderBackground={(ctx, info) => {
    // Draw a radial gradient
    const cx = info.area.x + info.area.width / 2;
    const cy = info.area.y + info.area.height / 2;
    const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, info.area.width / 2);
    grad.addColorStop(0, 'rgba(0, 122, 204, 0.3)');
    grad.addColorStop(1, 'rgba(0, 0, 0, 0)');
    ctx.fillStyle = grad;
    ctx.fillRect(info.area.x, info.area.y, info.area.width, info.area.height);
  }}
/>
```

## Custom Bottom Bar

```tsx
<CartesianPicker
  value={point}
  onChange={setPoint}
  renderBottomBar={({ point, isDragging }) => (
    <div>
      X: {point.x.toFixed(2)}, Y: {point.y.toFixed(2)}
      {isDragging && ' (dragging)'}
    </div>
  )}
/>
```

## Change Complete

Use `onChangeComplete` for undo integration. It fires on pointer up after a drag.

```tsx
<CartesianPicker
  value={point}
  onChange={setPoint}
  onChangeComplete={(finalPoint) => {
    undoStack.push(finalPoint);
  }}
/>
```

## Props

<PropsTable props={[
  { name: 'value', type: 'Point2D', description: 'Current point value (controlled). Object with x and y properties.' },
  { name: 'defaultValue', type: 'Point2D', default: '{ x: 0, y: 0 }', description: 'Default point value (uncontrolled).' },
  { name: 'domainX', type: '[number, number]', default: '[-1, 1]', description: 'Domain range for the X axis.' },
  { name: 'domainY', type: '[number, number]', default: '[-1, 1]', description: 'Domain range for the Y axis.' },
  { name: 'showGrid', type: 'boolean', default: 'true', description: 'Whether to show grid lines.' },
  { name: 'gridSubdivisions', type: 'number', default: '4', description: 'Number of grid subdivision lines.' },
  { name: 'showAxisLabels', type: 'boolean', default: 'true', description: 'Whether to show X/Y axis value labels.' },
  { name: 'showOriginAxes', type: 'boolean', default: 'true', description: 'Whether to draw emphasized origin axes (X=0, Y=0).' },
  { name: 'showCrosshair', type: 'boolean', default: 'true', description: 'Whether to draw crosshair lines from the point to edges.' },
  { name: 'crosshairStyle', type: "'solid' | 'dashed'", default: "'dashed'", description: 'Crosshair line style.' },
  { name: 'labelX', type: 'string', description: 'X axis name label.' },
  { name: 'labelY', type: 'string', description: 'Y axis name label.' },
  { name: 'markerRadius', type: 'number', default: '6', description: 'Point marker radius in pixels.' },
  { name: 'snapToGrid', type: 'boolean', default: 'false', description: 'Snap to grid subdivisions while dragging (Ctrl toggles).' },
  { name: 'step', type: 'number | [number, number]', description: 'Discrete step for value snapping. Single value or [stepX, stepY].' },
  { name: 'clampToRange', type: 'boolean', default: 'true', description: 'Whether to clamp the point within domain bounds.' },
  { name: 'precision', type: 'number', default: '2', description: 'Number format precision for displayed values.' },
  { name: 'width', type: 'number', default: '200', description: 'Width of the picker in pixels.' },
  { name: 'height', type: 'number', default: '200', description: 'Height of the picker in pixels.' },
  { name: 'responsive', type: 'boolean', default: 'false', description: 'Whether the picker fills its parent container via ResizeObserver.' },
  { name: 'disabled', type: 'boolean', default: 'false', description: 'Whether the picker is disabled.' },
  { name: 'readOnly', type: 'boolean', default: 'false', description: 'Whether the picker is read-only.' },
  { name: 'onChange', type: '(point: Point2D) => void', description: 'Callback fired continuously during drag.' },
  { name: 'onChangeComplete', type: '(point: Point2D) => void', description: 'Callback fired when editing is committed (pointer up).' },
  { name: 'renderBackground', type: '(ctx: CanvasRenderingContext2D, info: CanvasBackgroundInfo) => void', description: 'Custom background renderer for the canvas.' },
  { name: 'renderBottomBar', type: '(info: CartesianPickerInfo) => ReactNode', description: 'Render prop for custom content below the canvas.' },
  { name: 'className', type: 'string', description: 'Additional CSS class names.' },
  { name: 'testId', type: 'string', description: 'Test identifier for automated testing.' },
]} />

## Accessibility

- Canvas has `aria-label="Cartesian point picker"` and `aria-roledescription` with the current coordinates
- Live region announces coordinate changes during interaction
- Keyboard: Arrow keys move the point by step increments
- The picker is focusable and supports pointer and touch interactions
- `disabled` state prevents all interaction
